<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="laptop">

	<!-- Laptop List 구하기 -->
	<select id = "list" resultType="mybatis.vo.LaptopVO" parameterType="mybatis.vo.LaptopParamVO">
		SELECT * FROM 
		
		<if test="gpu_Point != 0">
			(SELECT * FROM laptop NATURAL JOIN gpu_Bench WHERE gpu_Point <![CDATA[>=]]> #{gpu_Point})
		</if>
		<if test="gpu_Point == 0">
			laptop
		</if>
		
		NATURAL JOIN cpu_Bench WHERE cpu_Point <![CDATA[>=]]> #{cpu_Point} AND laptop_OS=#{laptop_OS} AND laptop_MonitorSize=#{laptop_MonitorSize}
		
		<if test="sort != null">
			<choose>
				<when test="sort == 0">
					ORDER BY laptop_Name DESC
				</when>
				<when test="sort == 1">
					ORDER BY cpu_Point DESC
				</when>
				<when test="sort == 2">
					ORDER BY laptop_MonitorSize DESC
				</when>
			</choose>
		</if>		
	</select>
	
	<!-- 프로그램  cpu, gpu점수 구하기 -->
	<select id="program" resultType="mybatis.vo.Program_BenchVO" parameterType="java.util.Map">
		SELECT * FROM program_Bench WHERE program_Name=#{program_Name}
	</select>
</mapper>